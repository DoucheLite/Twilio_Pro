{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jeff.Masingill\\\\Desktop\\\\Twilio_Pro\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// --- Twilio SDK waiter: resolves once window.Twilio.Device exists ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction waitForTwilio(timeout = 7000) {\n  return new Promise(resolve => {\n    var _window$Twilio;\n    if ((_window$Twilio = window.Twilio) !== null && _window$Twilio !== void 0 && _window$Twilio.Device) return resolve(window.Twilio);\n    const start = Date.now();\n    const t = setInterval(() => {\n      var _window$Twilio2;\n      if ((_window$Twilio2 = window.Twilio) !== null && _window$Twilio2 !== void 0 && _window$Twilio2.Device) {\n        clearInterval(t);\n        resolve(window.Twilio);\n      } else if (Date.now() - start > timeout) {\n        clearInterval(t);\n        resolve(null);\n      }\n    }, 50);\n  });\n}\nclass ErrorBoundary extends React.Component {\n  constructor(p) {\n    super(p);\n    this.state = {\n      hasError: false,\n      error: null\n    };\n  }\n  static getDerivedStateFromError(e) {\n    return {\n      hasError: true,\n      error: e\n    };\n  }\n  componentDidCatch(e, i) {\n    console.error(\"UI Error:\", e, i);\n  }\n  render() {\n    return this.state.hasError ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 m-4 rounded border border-red-300 bg-red-50 text-red-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-2\",\n        children: \"Something went wrong.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 353\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"text-xs whitespace-pre-wrap\",\n        children: String(this.state.error)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 414\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 275\n    }, this) : this.props.children;\n  }\n}\nconst LS = {\n  contacts: \"twilio_pro_contacts\",\n  history: \"twilio_pro_history\"\n};\nconst useLocal = (k, i) => {\n  _s();\n  const [v, s] = useState(() => {\n    try {\n      const r = localStorage.getItem(k);\n      return r ? JSON.parse(r) : i;\n    } catch {\n      return i;\n    }\n  });\n  useEffect(() => {\n    try {\n      localStorage.setItem(k, JSON.stringify(v));\n    } catch {}\n  }, [k, v]);\n  return [v, s];\n};\n_s(useLocal, \"WZEc3h9RQ5lW8eL1iV4JJ08sViQ=\");\nconst norm = t => {\n  if (!t) return \"\";\n  const c = t.replace(/[^\\d+]/g, \"\");\n  const plus = c.startsWith(\"+\") ? \"+\" : \"\";\n  const d = c.replace(/\\D/g, \"\");\n  return plus + d;\n};\nconst fmt = t => {\n  const r = norm(t);\n  if (r.startsWith(\"+\") || r.length <= 3) return r;\n  const d = r.replace(/\\D/g, \"\");\n  if (d.length === 10) return `(${d.slice(0, 3)}) ${d.slice(3, 6)}-${d.slice(6)}`;\n  if (d.length > 6) return `${d.slice(0, 3)}-${d.slice(3, 6)}-${d.slice(6)}`;\n  if (d.length > 3) return `${d.slice(0, 3)}-${d.slice(3)}`;\n  return d;\n};\nexport default function App() {\n  _s2();\n  // Helper function to generate unique IDs\n  const generateId = () => Date.now() + Math.random();\n  const [devStat, setDevStat] = useState(\"offline\");\n  const [callStat, setCallStat] = useState(\"idle\");\n  const [err, setErr] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [num, setNum] = useState(\"\");\n  const [contacts, setContacts] = useLocal(LS.contacts, []);\n  const [hist, setHist] = useLocal(LS.history, []);\n  const [recordings, setRecordings] = useState([]);\n  const [transcriptions, setTranscriptions] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [showRecordings, setShowRecordings] = useState(false);\n  const [showTranscriptions, setShowTranscriptions] = useState(false);\n  const [transcriptionSearch, setTranscriptionSearch] = useState(\"\");\n  const [conversationContacts, setConversationContacts] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [contactContext, setContactContext] = useState(null);\n  const [showContactDetails, setShowContactDetails] = useState(false);\n  const deviceRef = useRef(null);\n  const actRef = useRef(null);\n  const incRef = useRef(null);\n  const tRef = useRef(null);\n  useEffect(() => {\n    let mounted = true;\n    let device; // for cleanup on unmount\n\n    (async () => {\n      // 1) Wait for the SDK to exist on window\n      const Twilio = await waitForTwilio(7000);\n      if (!mounted) return;\n      if (!(Twilio !== null && Twilio !== void 0 && Twilio.Device)) {\n        console.warn('❌ Twilio SDK not found after waiting');\n        setDevStat('error');\n        setErr('Twilio SDK not loaded');\n        return;\n      }\n      try {\n        setDevStat('loading');\n\n        // 2) Get access token from backend\n        const r = await fetch('http://localhost:5001/api/token', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({})\n        });\n        if (!r.ok) throw new Error(`Token fetch failed ${r.status}`);\n        const j = await r.json();\n        setId(j.identity || '');\n\n        // 3) Spin up the Device\n        device = new Twilio.Device(j.token, {\n          logLevel: process.env.NODE_ENV === 'development' ? 'warn' : 'error',\n          codecPreferences: ['opus', 'pcmu'],\n          enableRingingState: true,\n          allowIncomingWhileBusy: false,\n          // Trim sounds to reduce AudioContext warnings (optional)\n          sounds: {\n            incoming: false,\n            outgoing: false,\n            disconnect: false\n          }\n          // edge: ['ashburn', 'sanjose'], // optional: choose edges near you\n        });\n        deviceRef.current = device;\n\n        // 4) Wire events → update your UI status pills\n        device.on('ready', () => {\n          if (!mounted) return;\n          console.log('✅ Device ready');\n          setDevStat('ready');\n        });\n        device.on('error', e => {\n          var _e$message;\n          if (!mounted) return;\n          console.error('Device error:', e);\n          // Don't show AudioContext errors to users\n          if (e !== null && e !== void 0 && (_e$message = e.message) !== null && _e$message !== void 0 && _e$message.includes('AudioContext')) {\n            console.log('AudioContext warning suppressed');\n            return;\n          }\n          setDevStat('error');\n          setErr((e === null || e === void 0 ? void 0 : e.message) || 'Device error');\n        });\n        device.on('tokenWillExpire', async () => {\n          try {\n            const r2 = await fetch('http://localhost:5001/api/token', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({})\n            });\n            if (!r2.ok) throw new Error(`Token refresh failed ${r2.status}`);\n            const j2 = await r2.json();\n            device.updateToken(j2.token);\n            console.log('🔄 Token refreshed');\n          } catch (err) {\n            console.error('Token refresh error', err);\n          }\n        });\n        device.on('tokenExpired', () => {\n          if (!mounted) return;\n          console.warn('Token expired');\n          setDevStat('error');\n          setErr('Token expired – retry');\n        });\n        device.on('incoming', c => {\n          incRef.current = c;\n          setCallStat('incoming');\n          c.on('cancel', () => {\n            if (incRef.current === c) incRef.current = null;\n            setCallStat('idle');\n          });\n        });\n\n        // Register the device\n        await device.register();\n      } catch (err) {\n        console.error('Init error:', err);\n        if (!mounted) return;\n        setDevStat('error');\n        setErr(String(err.message || err));\n      }\n    })();\n    return () => {\n      mounted = false;\n      try {\n        var _device;\n        (_device = device) === null || _device === void 0 ? void 0 : _device.destroy();\n      } catch {}\n    };\n  }, []);\n\n  // TEMPORARY: Clear old localStorage data with duplicate keys\n  useEffect(() => {\n    // Check if we need to clear old data\n    const needsClear = localStorage.getItem('twilio_pro_clear_done');\n    if (!needsClear) {\n      localStorage.removeItem('twilio_pro_history');\n      localStorage.removeItem('twilio_pro_contacts');\n      localStorage.setItem('twilio_pro_clear_done', 'true');\n      console.log('Cleared old localStorage data with duplicate keys');\n    }\n  }, []);\n\n  // Fetch recordings, transcriptions, and contacts on mount\n  useEffect(() => {\n    fetchRecordings();\n    fetchTranscriptions();\n    fetchContacts();\n  }, []);\n  const start = async () => {\n    setErr('');\n    const n = norm(num);\n    if (!n || !n.startsWith('+') && n.replace(/\\D/g, '').length < 7) {\n      setErr('Enter a valid phone number.');\n      return;\n    }\n    if (!deviceRef.current) {\n      setErr('Device not ready.');\n      return;\n    }\n\n    // Check if there's already an active call\n    if (actRef.current && actRef.current.status() !== 'closed') {\n      setErr('Please hang up the current call first.');\n      return;\n    }\n\n    // Clear any lingering call references\n    actRef.current = null;\n    try {\n      setCallStat('dialing');\n      const call = await deviceRef.current.connect({\n        params: {\n          To: n\n        }\n      });\n      actRef.current = call;\n\n      // Attach event listeners to the call object\n      call.on('ringing', () => setCallStat('ringing'));\n      call.on('accept', () => {\n        setCallStat('connected');\n        setIsRecording(true); // Start recording indicator\n      });\n      call.on('disconnect', () => {\n        setHist(l => [{\n          id: generateId(),\n          to: n,\n          direction: 'outgoing',\n          status: 'completed',\n          at: new Date().toISOString()\n        }, ...l].slice(0, 100));\n        actRef.current = null;\n        setCallStat('idle');\n        setIsRecording(false); // Stop recording indicator\n        fetchRecordings(); // Refresh recordings list\n        fetchTranscriptions(); // Refresh transcriptions list\n        fetchContacts(); // Refresh contacts list\n      });\n      call.on('cancel', () => {\n        setHist(l => [{\n          id: generateId(),\n          to: n,\n          direction: 'outgoing',\n          status: 'canceled',\n          at: new Date().toISOString()\n        }, ...l].slice(0, 100));\n        actRef.current = null;\n        setCallStat('idle');\n        setIsRecording(false); // Stop recording indicator\n      });\n      call.on('error', e => {\n        console.error('Call error:', e);\n\n        // Handle hangup errors as normal disconnections\n        if (e.code === 31005) {\n          console.log('Call ended with gateway hangup error (31005) - treating as normal hangup');\n          setHist(l => [{\n            id: generateId(),\n            to: n,\n            direction: 'outgoing',\n            status: 'completed',\n            at: new Date().toISOString()\n          }, ...l].slice(0, 100));\n          actRef.current = null;\n          setCallStat('idle');\n          setIsRecording(false);\n          fetchRecordings();\n          fetchTranscriptions();\n          fetchContacts();\n          return; // Don't show error to user\n        }\n\n        // Handle other errors normally\n        setErr((e === null || e === void 0 ? void 0 : e.message) || 'Call error');\n        setCallStat('idle');\n        actRef.current = null;\n        setIsRecording(false);\n      });\n    } catch (error) {\n      console.error('Failed to start call:', error);\n      setErr((error === null || error === void 0 ? void 0 : error.message) || 'Failed to start call');\n      setCallStat('idle');\n    }\n  };\n  const hang = () => {\n    try {\n      const call = actRef.current;\n      if (call && call.status() !== 'closed') {\n        call.disconnect();\n      }\n    } catch (error) {\n      console.log('Error during hangup:', error);\n    }\n\n    // Always clean up state regardless of disconnect success\n    actRef.current = null;\n    setCallStat('idle');\n    setIsRecording(false);\n  };\n  const dtmf = d => {\n    try {\n      var _actRef$current;\n      (_actRef$current = actRef.current) === null || _actRef$current === void 0 ? void 0 : _actRef$current.sendDigits(d);\n    } catch {}\n  };\n  const accept = async () => {\n    const c = incRef.current;\n    if (!c) return;\n    try {\n      await c.accept();\n      actRef.current = c;\n      setCallStat('connected');\n      c.on('disconnect', () => {\n        setHist(l => {\n          var _c$parameters;\n          return [{\n            id: generateId(),\n            from: ((_c$parameters = c.parameters) === null || _c$parameters === void 0 ? void 0 : _c$parameters.From) || 'unknown',\n            direction: 'incoming',\n            status: 'completed',\n            at: new Date().toISOString()\n          }, ...l].slice(0, 100);\n        });\n        if (incRef.current === c) incRef.current = null;\n        actRef.current = null;\n        setCallStat('idle');\n        setIsRecording(false); // Stop recording indicator\n        fetchRecordings(); // Refresh recordings list\n        fetchTranscriptions(); // Refresh transcriptions list\n        fetchContacts(); // Refresh contacts list\n      });\n      c.on('error', e => {\n        console.error('Incoming call error:', e);\n\n        // Handle hangup errors as normal disconnections\n        if (e.code === 31005) {\n          console.log('Incoming call ended with gateway hangup error (31005) - treating as normal hangup');\n          setHist(l => {\n            var _c$parameters2;\n            return [{\n              id: generateId(),\n              from: ((_c$parameters2 = c.parameters) === null || _c$parameters2 === void 0 ? void 0 : _c$parameters2.From) || 'unknown',\n              direction: 'incoming',\n              status: 'completed',\n              at: new Date().toISOString()\n            }, ...l].slice(0, 100);\n          });\n          if (incRef.current === c) incRef.current = null;\n          actRef.current = null;\n          setCallStat('idle');\n          setIsRecording(false);\n          fetchRecordings();\n          fetchTranscriptions();\n          fetchContacts();\n          return; // Don't show error to user\n        }\n\n        // Handle other errors normally\n        setErr((e === null || e === void 0 ? void 0 : e.message) || 'Call error');\n        setCallStat('idle');\n        if (incRef.current === c) incRef.current = null;\n        actRef.current = null;\n        setIsRecording(false);\n      });\n    } catch (error) {\n      console.error('Failed to accept call:', error);\n      setErr((error === null || error === void 0 ? void 0 : error.message) || 'Failed to accept call');\n      setCallStat('idle');\n    }\n  };\n  const reject = () => {\n    try {\n      var _incRef$current;\n      (_incRef$current = incRef.current) === null || _incRef$current === void 0 ? void 0 : _incRef$current.reject();\n    } catch {}\n    incRef.current = null;\n    setCallStat('idle');\n  };\n  const press = k => {\n    if (callStat === 'connected' && actRef.current) {\n      dtmf(k);\n    } else {\n      setNum(s => norm(s + k));\n    }\n  };\n  const back = () => setNum(s => s.slice(0, -1));\n  const clear = () => setNum('');\n  const fetchRecordings = async () => {\n    try {\n      const r = await fetch('http://localhost:5001/api/recordings');\n      const j = await r.json();\n      if (r.ok) setRecordings(j.recordings || []);\n    } catch (e) {\n      console.error('Failed to fetch recordings:', e);\n    }\n  };\n  const fetchTranscriptions = async () => {\n    try {\n      const r = await fetch('http://localhost:5001/api/transcriptions');\n      const j = await r.json();\n      if (r.ok) setTranscriptions(j.transcriptions || []);\n    } catch (e) {\n      console.error('Failed to fetch transcriptions:', e);\n    }\n  };\n  const fetchContacts = async () => {\n    try {\n      const r = await fetch('http://localhost:5001/api/contacts');\n      const j = await r.json();\n      if (r.ok) setConversationContacts(j.contacts || []);\n    } catch (e) {\n      console.error('Failed to fetch contacts:', e);\n    }\n  };\n  const fetchContactContext = async phoneNumber => {\n    try {\n      const r = await fetch(`http://localhost:5001/api/contacts/${phoneNumber}/context`);\n      const j = await r.json();\n      if (r.ok) setContactContext(j);\n    } catch (e) {\n      console.error('Failed to fetch contact context:', e);\n    }\n  };\n  const generatePreCallBriefing = async phoneNumber => {\n    try {\n      const r = await fetch(`http://localhost:5001/api/contacts/${phoneNumber}/prepare`, {\n        method: 'POST'\n      });\n      const j = await r.json();\n      if (r.ok) return j;\n    } catch (e) {\n      console.error('Failed to generate briefing:', e);\n      return null;\n    }\n  };\n  const addC = (name, phone) => {\n    const n = norm(phone);\n    if (!name || !n) return;\n    setContacts(l => [{\n      id: generateId(),\n      name,\n      phone: n\n    }, ...l].slice(0, 200));\n  };\n  const devOK = devStat === 'ready';\n  const conn = callStat === 'connected';\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen p-4 md:p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto grid md:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            className: \"flex items-center justify-between bg-white border rounded px-4 py-3 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-xl font-semibold\",\n                children: \"Twilio Voice Dialer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-500\",\n                children: [\"Identity: \", id || '(anonymous)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(Pill, {\n                label: `Device: ${devStat}`,\n                state: devStat\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Pill, {\n                label: `Call: ${callStat}`,\n                state: callStat\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), isRecording && /*#__PURE__*/_jsxDEV(Pill, {\n                label: \"Recording\",\n                state: \"recording\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-50 border border-red-200 text-red-700 text-sm px-3 py-2 rounded\",\n            children: err\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border rounded shadow-sm p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"flex-1 px-3 py-2 border rounded focus:outline-none focus:ring w-full\",\n                placeholder: \"Enter phone number\",\n                value: fmt(num),\n                onChange: e => setNum(norm(e.target.value)),\n                disabled: !devOK || conn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this), !conn ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-50\",\n                disabled: !devOK || !num,\n                onClick: start,\n                children: \"Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 26\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 bg-red-600 text-white rounded\",\n                onClick: hang,\n                children: \"Hang up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 164\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Pad, {\n              onPress: press,\n              onBack: back,\n              onClear: clear,\n              inCall: conn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), callStat === 'incoming' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 bg-green-600 text-white rounded\",\n                onClick: accept,\n                children: \"Accept\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 bg-gray-300 text-gray-800 rounded\",\n                onClick: reject,\n                children: \"Reject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(Contacts, {\n            contacts: contacts,\n            onAdd: addC,\n            onDial: p => setNum(p)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(History, {\n            items: hist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ConversationContacts, {\n            contacts: conversationContacts,\n            selectedContact: selectedContact,\n            setSelectedContact: setSelectedContact,\n            contactContext: contactContext,\n            showContactDetails: showContactDetails,\n            setShowContactDetails: setShowContactDetails,\n            onFetchContext: fetchContactContext,\n            onGenerateBriefing: generatePreCallBriefing\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Recordings, {\n            recordings: recordings,\n            showRecordings: showRecordings,\n            setShowRecordings: setShowRecordings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Transcriptions, {\n            transcriptions: transcriptions,\n            showTranscriptions: showTranscriptions,\n            setShowTranscriptions: setShowTranscriptions,\n            searchQuery: transcriptionSearch,\n            setSearchQuery: setTranscriptionSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border rounded shadow-sm p-4 text-sm text-slate-600\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Backend: http://localhost:5001  Token: /api/token\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 91\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"uw6RIcVgkkB6H+jZU6f5QKz7+Io=\", false, function () {\n  return [useLocal, useLocal];\n});\n_c = App;\nfunction Pill({\n  label,\n  state\n}) {\n  const color = (() => {\n    switch (state) {\n      case 'ready':\n        return 'bg-green-100 text-green-700 border-green-200';\n      case 'connected':\n        return 'bg-emerald-100 text-emerald-700 border-emerald-200';\n      case 'dialing':\n      case 'ringing':\n        return 'bg-amber-100 text-amber-700 border-amber-200';\n      case 'incoming':\n        return 'bg-blue-100 text-blue-700 border-blue-200';\n      case 'recording':\n        return 'bg-red-100 text-red-700 border-red-200';\n      case 'error':\n        return 'bg-red-100 text-red-700 border-red-200';\n      default:\n        return 'bg-slate-100 text-slate-700 border-slate-200';\n    }\n  })();\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `inline-flex items-center px-2 py-1 rounded border text-xs ${color}`,\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 578\n  }, this);\n}\n_c2 = Pill;\nfunction Pad({\n  onPress,\n  onBack,\n  onClear,\n  inCall\n}) {\n  const keys = [{\n    k: '1',\n    s: ''\n  }, {\n    k: '2',\n    s: 'ABC'\n  }, {\n    k: '3',\n    s: 'DEF'\n  }, {\n    k: '4',\n    s: 'GHI'\n  }, {\n    k: '5',\n    s: 'JKL'\n  }, {\n    k: '6',\n    s: 'MNO'\n  }, {\n    k: '7',\n    s: 'PQRS'\n  }, {\n    k: '8',\n    s: 'TUV'\n  }, {\n    k: '9',\n    s: 'WXYZ'\n  }, {\n    k: '*',\n    s: ''\n  }, {\n    k: '0',\n    s: '+'\n  }, {\n    k: '#',\n    s: ''\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 gap-3 w-64 max-w-full\",\n      children: [keys.map(({\n        k,\n        s\n      }) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"h-16 bg-slate-100 rounded border hover:bg-slate-200 active:bg-slate-300 flex flex-col items-center justify-center\",\n        onClick: () => onPress(k),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-semibold\",\n          children: k\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 192\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-slate-500\",\n          children: s\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 242\n        }, this)]\n      }, k, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"h-16 bg-white rounded border hover:bg-slate-50 flex items-center justify-center\",\n        onClick: onBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"h-16 bg-white rounded border hover:bg-slate-50 flex items-center justify-center\",\n        onClick: () => onPress('+'),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"h-16 bg-white rounded border hover:bg-slate-50 flex items-center justify-center\",\n        onClick: onClear,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 25\n    }, this), inCall && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-slate-500 mt-2\",\n      children: \"In call: keypad sends DTMF.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 385,\n    columnNumber: 3\n  }, this);\n}\n_c3 = Pad;\nfunction Contacts({\n  contacts,\n  onAdd,\n  onDial\n}) {\n  _s3();\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border rounded shadow-sm p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold mb-2\",\n      children: \"Contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 58\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-1 px-2 py-1 border rounded\",\n        placeholder: \"Name\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-1 px-2 py-1 border rounded\",\n        placeholder: \"Phone\",\n        value: phone,\n        onChange: e => setPhone(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 161\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-3 py-1 bg-slate-800 text-white rounded\",\n        onClick: () => {\n          onAdd(name, phone);\n          setName('');\n          setPhone('');\n        },\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 287\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-1 max-h-48 overflow-auto\",\n      children: [contacts.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"flex items-center justify-between text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: c.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 146\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-slate-500\",\n            children: fmt(c.phone)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 189\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 141\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-2 py-1 text-xs bg-blue-600 text-white rounded\",\n          onClick: () => onDial(c.phone),\n          children: \"Dial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 247\n        }, this)]\n      }, c.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 72\n      }, this)), contacts.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"text-xs text-slate-500\",\n        children: \"No contacts yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 390\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 392,\n    columnNumber: 3\n  }, this);\n}\n_s3(Contacts, \"zYVpPXZOi6g/j8powO7C5U3VwYo=\");\n_c4 = Contacts;\nfunction History({\n  items\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border rounded shadow-sm p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold mb-2\",\n      children: \"Call History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 58\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-1 max-h-64 overflow-auto text-sm\",\n      children: [items.map(h => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"flex items-center justify-between\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: h.direction === 'outgoing' ? `To ${fmt(h.to || '')}` : `From ${fmt(h.from || '')}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 143\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500\",\n            children: [new Date(h.at).toLocaleString(), \"  \", h.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 252\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 138\n        }, this)\n      }, h.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 77\n      }, this)), items.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"text-xs text-slate-500\",\n        children: \"No calls yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 377\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 397,\n    columnNumber: 3\n  }, this);\n}\n_c5 = History;\nfunction Recordings({\n  recordings,\n  showRecordings,\n  setShowRecordings\n}) {\n  const formatDuration = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const formatDate = dateStr => {\n    return new Date(dateStr).toLocaleString();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border rounded shadow-sm p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold\",\n        children: \"Recordings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-xs px-2 py-1 bg-slate-800 text-white rounded\",\n        onClick: () => setShowRecordings(!showRecordings),\n        children: showRecordings ? 'Hide' : 'Show'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this), showRecordings && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-2 max-h-64 overflow-auto text-sm\",\n      children: [recordings.map(r => {\n        var _r$callSid;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"border rounded p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-xs\",\n              children: [\"Call \", (_r$callSid = r.callSid) === null || _r$callSid === void 0 ? void 0 : _r$callSid.slice(-8)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-slate-500\",\n              children: formatDuration(r.duration)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-500 mb-2\",\n            children: formatDate(r.createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-xs px-2 py-1 bg-blue-600 text-white rounded\",\n              onClick: () => window.open(`http://localhost:5001/api/recordings/${r.sid}/download`),\n              children: \"Download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded\",\n              children: [r.channels, \" channels\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this)]\n        }, r.sid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this);\n      }), recordings.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"text-xs text-slate-500\",\n        children: \"No recordings yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 5\n  }, this);\n}\n_c6 = Recordings;\nfunction Transcriptions({\n  transcriptions,\n  showTranscriptions,\n  setShowTranscriptions,\n  searchQuery,\n  setSearchQuery\n}) {\n  const formatDate = dateStr => {\n    return new Date(dateStr).toLocaleString();\n  };\n  const formatConfidence = conf => {\n    return `${Math.round(conf * 100)}%`;\n  };\n\n  // Filter transcriptions based on search query\n  const filteredTranscriptions = transcriptions.filter(t => {\n    var _t$text, _t$metadata, _t$metadata$topics;\n    return !searchQuery || ((_t$text = t.text) === null || _t$text === void 0 ? void 0 : _t$text.toLowerCase().includes(searchQuery.toLowerCase())) || ((_t$metadata = t.metadata) === null || _t$metadata === void 0 ? void 0 : (_t$metadata$topics = _t$metadata.topics) === null || _t$metadata$topics === void 0 ? void 0 : _t$metadata$topics.some(topic => topic.toLowerCase().includes(searchQuery.toLowerCase())));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border rounded shadow-sm p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold\",\n        children: \"Transcriptions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-xs px-2 py-1 bg-slate-800 text-white rounded\",\n        onClick: () => setShowTranscriptions(!showTranscriptions),\n        children: showTranscriptions ? 'Hide' : 'Show'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), showTranscriptions && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-2 py-1 border rounded text-xs\",\n          placeholder: \"Search transcriptions...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-3 max-h-64 overflow-auto text-sm\",\n        children: [filteredTranscriptions.map(t => {\n          var _t$callSid, _t$text2, _t$metadata$topics2, _t$metadata$actionIte;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"border rounded p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-xs\",\n                children: [\"Call \", (_t$callSid = t.callSid) === null || _t$callSid === void 0 ? void 0 : _t$callSid.slice(-8)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: formatConfidence(t.confidence)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-slate-500 mb-2\",\n              children: formatDate(t.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-slate-700 mb-2 max-h-16 overflow-hidden\",\n              children: [(_t$text2 = t.text) === null || _t$text2 === void 0 ? void 0 : _t$text2.substring(0, 100), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), t.metadata && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: [((_t$metadata$topics2 = t.metadata.topics) === null || _t$metadata$topics2 === void 0 ? void 0 : _t$metadata$topics2.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1 mb-1\",\n                children: t.metadata.topics.map((topic, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs px-1 py-0.5 bg-blue-100 text-blue-700 rounded\",\n                  children: topic\n                }, `transcription-topic-${t.sid}-${i}-${topic}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 23\n              }, this), ((_t$metadata$actionIte = t.metadata.actionItems) === null || _t$metadata$actionIte === void 0 ? void 0 : _t$metadata$actionIte.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-amber-600\",\n                children: [t.metadata.actionItems.length, \" action item(s)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-xs px-2 py-1 bg-green-600 text-white rounded\",\n                onClick: () => window.open(`http://localhost:5001/api/transcriptions/${t.sid}/export?format=json`),\n                children: \"JSON\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-xs px-2 py-1 bg-purple-600 text-white rounded\",\n                onClick: () => window.open(`http://localhost:5001/api/transcriptions/${t.sid}/export?format=markdown`),\n                children: \"MD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-xs px-2 py-1 bg-orange-600 text-white rounded\",\n                onClick: () => window.open(`http://localhost:5001/api/transcriptions/${t.sid}/export?format=vector`),\n                children: \"Vector\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this)]\n          }, t.sid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this);\n        }), filteredTranscriptions.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-xs text-slate-500\",\n          children: searchQuery ? 'No transcriptions match your search.' : 'No transcriptions yet.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 5\n  }, this);\n}\n_c7 = Transcriptions;\nfunction ConversationContacts({\n  contacts,\n  selectedContact,\n  setSelectedContact,\n  contactContext,\n  showContactDetails,\n  setShowContactDetails,\n  onFetchContext,\n  onGenerateBriefing\n}) {\n  var _contactContext$summa, _contactContext$summa2, _contactContext$summa3, _contactContext$recen, _contactContext$pendi, _contactContext$aiSug, _contactContext$aiSug2;\n  const formatDate = dateStr => {\n    return new Date(dateStr).toLocaleString();\n  };\n  const formatPhone = phone => {\n    return phone.replace(/^\\+1/, '').replace(/(\\d{3})(\\d{3})(\\d{4})/, '($1) $2-$3');\n  };\n  const handleContactSelect = async contact => {\n    setSelectedContact(contact);\n    await onFetchContext(contact.phoneNumber);\n    setShowContactDetails(true);\n  };\n  const handleGenerateBriefing = async phoneNumber => {\n    const briefing = await onGenerateBriefing(phoneNumber);\n    if (briefing) {\n      console.log('Pre-call briefing:', briefing);\n      // You could display this in a modal or notification\n      alert(`Pre-call briefing generated for ${formatPhone(phoneNumber)}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border rounded shadow-sm p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold\",\n        children: \"Conversation Contacts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-xs px-2 py-1 bg-slate-800 text-white rounded\",\n        onClick: () => setShowContactDetails(!showContactDetails),\n        children: showContactDetails ? 'Hide' : 'Show'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this), showContactDetails && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [selectedContact && contactContext && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-blue-50 border rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-sm mb-2\",\n          children: [\"Contact Context: \", formatPhone(selectedContact.phoneNumber)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Relationship:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this), \" \", ((_contactContext$summa = contactContext.summary) === null || _contactContext$summa === void 0 ? void 0 : _contactContext$summa.relationship) || 'Unknown', \" \\u2022\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total Calls:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this), \" \", ((_contactContext$summa2 = contactContext.summary) === null || _contactContext$summa2 === void 0 ? void 0 : _contactContext$summa2.totalCalls) || 0, \" \\u2022\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Frequency:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 19\n            }, this), \" \", ((_contactContext$summa3 = contactContext.summary) === null || _contactContext$summa3 === void 0 ? void 0 : _contactContext$summa3.communicationFrequency) || 'Unknown']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 15\n        }, this), ((_contactContext$recen = contactContext.recentTopics) === null || _contactContext$recen === void 0 ? void 0 : _contactContext$recen.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Recent Topics:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 21\n            }, this), \" \", contactContext.recentTopics.slice(0, 3).join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 17\n        }, this), ((_contactContext$pendi = contactContext.pendingActionItems) === null || _contactContext$pendi === void 0 ? void 0 : _contactContext$pendi.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-amber-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Pending Actions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 21\n            }, this), \" \", contactContext.pendingActionItems.length, \" item(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 17\n        }, this), ((_contactContext$aiSug = contactContext.aiSuggestions) === null || _contactContext$aiSug === void 0 ? void 0 : _contactContext$aiSug.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-purple-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"AI Suggestions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 21\n            }, this), \" \", (_contactContext$aiSug2 = contactContext.aiSuggestions[0]) === null || _contactContext$aiSug2 === void 0 ? void 0 : _contactContext$aiSug2.message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-xs px-2 py-1 bg-green-600 text-white rounded\",\n          onClick: () => handleGenerateBriefing(selectedContact.phoneNumber),\n          children: \"Generate Briefing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2 max-h-64 overflow-auto text-sm\",\n        children: [contacts.map((contact, index) => {\n          var _contact$recentTopics;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"border rounded p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-xs\",\n                children: formatPhone(contact.phoneNumber)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: [contact.totalCalls, \" calls\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-slate-500 mb-2\",\n              children: [\"Last: \", formatDate(contact.lastContact), \" \\u2022 \", contact.relationship]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this), ((_contact$recentTopics = contact.recentTopics) === null || _contact$recentTopics === void 0 ? void 0 : _contact$recentTopics.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1\",\n                children: contact.recentTopics.map((topic, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs px-1 py-0.5 bg-blue-100 text-blue-700 rounded\",\n                  children: topic\n                }, `topic-${contact.phoneNumber}-${i}-${topic}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 19\n            }, this), contact.pendingActionItems > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-amber-600 mb-2\",\n              children: [contact.pendingActionItems, \" pending action item(s)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-xs px-2 py-1 bg-blue-600 text-white rounded\",\n                onClick: () => handleContactSelect(contact),\n                children: \"View Context\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-xs px-2 py-1 bg-green-600 text-white rounded\",\n                onClick: () => handleGenerateBriefing(contact.phoneNumber),\n                children: \"Briefing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this)]\n          }, `contact-${contact.phoneNumber}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this);\n        }), contacts.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-xs text-slate-500\",\n          children: \"No conversation contacts yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 5\n  }, this);\n}\n_c8 = ConversationContacts;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Pill\");\n$RefreshReg$(_c3, \"Pad\");\n$RefreshReg$(_c4, \"Contacts\");\n$RefreshReg$(_c5, \"History\");\n$RefreshReg$(_c6, \"Recordings\");\n$RefreshReg$(_c7, \"Transcriptions\");\n$RefreshReg$(_c8, \"ConversationContacts\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","waitForTwilio","timeout","Promise","resolve","_window$Twilio","window","Twilio","Device","start","Date","now","t","setInterval","_window$Twilio2","clearInterval","ErrorBoundary","Component","constructor","p","state","hasError","error","getDerivedStateFromError","e","componentDidCatch","i","console","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","String","props","LS","contacts","history","useLocal","k","_s","v","s","r","localStorage","getItem","JSON","parse","setItem","stringify","norm","c","replace","plus","startsWith","d","fmt","length","slice","App","_s2","generateId","Math","random","devStat","setDevStat","callStat","setCallStat","err","setErr","id","setId","num","setNum","setContacts","hist","setHist","recordings","setRecordings","transcriptions","setTranscriptions","isRecording","setIsRecording","showRecordings","setShowRecordings","showTranscriptions","setShowTranscriptions","transcriptionSearch","setTranscriptionSearch","conversationContacts","setConversationContacts","selectedContact","setSelectedContact","contactContext","setContactContext","showContactDetails","setShowContactDetails","deviceRef","actRef","incRef","tRef","mounted","device","warn","fetch","method","headers","body","ok","Error","status","j","json","identity","token","logLevel","process","env","NODE_ENV","codecPreferences","enableRingingState","allowIncomingWhileBusy","sounds","incoming","outgoing","disconnect","current","on","log","_e$message","message","includes","r2","j2","updateToken","register","_device","destroy","needsClear","removeItem","fetchRecordings","fetchTranscriptions","fetchContacts","n","call","connect","params","To","l","to","direction","at","toISOString","code","hang","dtmf","_actRef$current","sendDigits","accept","_c$parameters","from","parameters","From","_c$parameters2","reject","_incRef$current","press","back","clear","fetchContactContext","phoneNumber","generatePreCallBriefing","addC","name","phone","devOK","conn","Pill","label","placeholder","value","onChange","target","disabled","onClick","Pad","onPress","onBack","onClear","inCall","Contacts","onAdd","onDial","History","items","ConversationContacts","onFetchContext","onGenerateBriefing","Recordings","Transcriptions","searchQuery","setSearchQuery","_c","color","_c2","keys","map","_c3","_s3","setName","setPhone","_c4","h","toLocaleString","_c5","formatDuration","seconds","mins","floor","secs","toString","padStart","formatDate","dateStr","_r$callSid","callSid","duration","createdAt","open","sid","channels","_c6","formatConfidence","conf","round","filteredTranscriptions","filter","_t$text","_t$metadata","_t$metadata$topics","text","toLowerCase","metadata","topics","some","topic","_t$callSid","_t$text2","_t$metadata$topics2","_t$metadata$actionIte","confidence","substring","actionItems","_c7","_contactContext$summa","_contactContext$summa2","_contactContext$summa3","_contactContext$recen","_contactContext$pendi","_contactContext$aiSug","_contactContext$aiSug2","formatPhone","handleContactSelect","contact","handleGenerateBriefing","briefing","alert","summary","relationship","totalCalls","communicationFrequency","recentTopics","join","pendingActionItems","aiSuggestions","index","_contact$recentTopics","lastContact","_c8","$RefreshReg$"],"sources":["C:/Users/Jeff.Masingill/Desktop/Twilio_Pro/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\n// --- Twilio SDK waiter: resolves once window.Twilio.Device exists ---\nfunction waitForTwilio(timeout = 7000) {\n  return new Promise((resolve) => {\n    if (window.Twilio?.Device) return resolve(window.Twilio);\n    const start = Date.now();\n    const t = setInterval(() => {\n      if (window.Twilio?.Device) {\n        clearInterval(t);\n        resolve(window.Twilio);\n      } else if (Date.now() - start > timeout) {\n        clearInterval(t);\n        resolve(null);\n      }\n    }, 50);\n  });\n}\n\nclass ErrorBoundary extends React.Component { constructor(p){ super(p); this.state={hasError:false,error:null}; } static getDerivedStateFromError(e){return{hasError:true,error:e}} componentDidCatch(e,i){console.error(\"UI Error:\",e,i)} render(){ return this.state.hasError? (<div className=\"p-4 m-4 rounded border border-red-300 bg-red-50 text-red-700\"><h2 className=\"font-semibold mb-2\">Something went wrong.</h2><pre className=\"text-xs whitespace-pre-wrap\">{String(this.state.error)}</pre></div>): this.props.children; } }\nconst LS={contacts:\"twilio_pro_contacts\",history:\"twilio_pro_history\"};\nconst useLocal=(k,i)=>{ const [v,s]=useState(()=>{try{const r=localStorage.getItem(k);return r?JSON.parse(r):i}catch{return i}}); useEffect(()=>{try{localStorage.setItem(k,JSON.stringify(v))}catch{}},[k,v]); return [v,s]; };\nconst norm=(t)=>{ if(!t) return \"\"; const c=t.replace(/[^\\d+]/g,\"\"); const plus=c.startsWith(\"+\")?\"+\":\"\"; const d=c.replace(/\\D/g,\"\"); return plus+d; };\nconst fmt=(t)=>{ const r=norm(t); if(r.startsWith(\"+\")||r.length<=3) return r; const d=r.replace(/\\D/g,\"\"); if(d.length===10) return `(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6)}`; if(d.length>6) return `${d.slice(0,3)}-${d.slice(3,6)}-${d.slice(6)}`; if(d.length>3) return `${d.slice(0,3)}-${d.slice(3)}`; return d; };\nexport default function App(){\n  // Helper function to generate unique IDs\n  const generateId = () => Date.now() + Math.random();\n  \n  const [devStat,setDevStat]=useState(\"offline\");\n  const [callStat,setCallStat]=useState(\"idle\");\n  const [err,setErr]=useState(\"\");\n  const [id,setId]=useState(\"\");\n  const [num,setNum]=useState(\"\");\n  const [contacts,setContacts]=useLocal(LS.contacts,[]);\n  const [hist,setHist]=useLocal(LS.history,[]);\n  const [recordings,setRecordings]=useState([]);\n  const [transcriptions,setTranscriptions]=useState([]);\n  const [isRecording,setIsRecording]=useState(false);\n  const [showRecordings,setShowRecordings]=useState(false);\n  const [showTranscriptions,setShowTranscriptions]=useState(false);\n  const [transcriptionSearch,setTranscriptionSearch]=useState(\"\");\n  const [conversationContacts,setConversationContacts]=useState([]);\n  const [selectedContact,setSelectedContact]=useState(null);\n  const [contactContext,setContactContext]=useState(null);\n  const [showContactDetails,setShowContactDetails]=useState(false);\n  const deviceRef=useRef(null); const actRef=useRef(null); const incRef=useRef(null); const tRef=useRef(null);\n  useEffect(() => {\n    let mounted = true;\n    let device; // for cleanup on unmount\n\n    (async () => {\n      // 1) Wait for the SDK to exist on window\n      const Twilio = await waitForTwilio(7000);\n      if (!mounted) return;\n\n      if (!Twilio?.Device) {\n        console.warn('❌ Twilio SDK not found after waiting');\n        setDevStat('error');\n        setErr('Twilio SDK not loaded');\n        return;\n      }\n\n      try {\n        setDevStat('loading');\n\n        // 2) Get access token from backend\n        const r = await fetch('http://localhost:5001/api/token', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({})\n        });\n        if (!r.ok) throw new Error(`Token fetch failed ${r.status}`);\n        const j = await r.json();\n        setId(j.identity || '');\n\n        // 3) Spin up the Device\n        device = new Twilio.Device(j.token, {\n          logLevel: process.env.NODE_ENV === 'development' ? 'warn' : 'error',\n          codecPreferences: ['opus', 'pcmu'],\n          enableRingingState: true,\n          allowIncomingWhileBusy: false,\n          // Trim sounds to reduce AudioContext warnings (optional)\n          sounds: { incoming: false, outgoing: false, disconnect: false },\n          // edge: ['ashburn', 'sanjose'], // optional: choose edges near you\n        });\n\n        deviceRef.current = device;\n\n        // 4) Wire events → update your UI status pills\n        device.on('ready', () => {\n          if (!mounted) return;\n          console.log('✅ Device ready');\n          setDevStat('ready');\n        });\n\n        device.on('error', (e) => {\n          if (!mounted) return;\n          console.error('Device error:', e);\n          // Don't show AudioContext errors to users\n          if (e?.message?.includes('AudioContext')) {\n            console.log('AudioContext warning suppressed');\n            return;\n          }\n          setDevStat('error');\n          setErr(e?.message || 'Device error');\n        });\n\n        device.on('tokenWillExpire', async () => {\n          try {\n            const r2 = await fetch('http://localhost:5001/api/token', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({})\n            });\n            if (!r2.ok) throw new Error(`Token refresh failed ${r2.status}`);\n            const j2 = await r2.json();\n            device.updateToken(j2.token);\n            console.log('🔄 Token refreshed');\n          } catch (err) {\n            console.error('Token refresh error', err);\n          }\n        });\n\n        device.on('tokenExpired', () => {\n          if (!mounted) return;\n          console.warn('Token expired');\n          setDevStat('error');\n          setErr('Token expired – retry');\n        });\n\n        device.on('incoming', (c) => {\n          incRef.current = c;\n          setCallStat('incoming');\n          c.on('cancel', () => {\n            if (incRef.current === c) incRef.current = null;\n            setCallStat('idle');\n          });\n        });\n\n        // Register the device\n        await device.register();\n      } catch (err) {\n        console.error('Init error:', err);\n        if (!mounted) return;\n        setDevStat('error');\n        setErr(String(err.message || err));\n      }\n    })();\n\n    return () => {\n      mounted = false;\n      try { device?.destroy(); } catch {}\n    };\n  }, []);\n  \n  // TEMPORARY: Clear old localStorage data with duplicate keys\n  useEffect(() => {\n    // Check if we need to clear old data\n    const needsClear = localStorage.getItem('twilio_pro_clear_done');\n    if (!needsClear) {\n      localStorage.removeItem('twilio_pro_history');\n      localStorage.removeItem('twilio_pro_contacts');\n      localStorage.setItem('twilio_pro_clear_done', 'true');\n      console.log('Cleared old localStorage data with duplicate keys');\n    }\n  }, []);\n  \n  // Fetch recordings, transcriptions, and contacts on mount\n  useEffect(() => {\n    fetchRecordings();\n    fetchTranscriptions();\n    fetchContacts();\n  }, []);\n  const start=async()=>{ \n    setErr(''); \n    const n=norm(num); \n    if(!n||(!n.startsWith('+')&&n.replace(/\\D/g,'').length<7)){ \n      setErr('Enter a valid phone number.'); \n      return; \n    } \n    if(!deviceRef.current){ \n      setErr('Device not ready.'); \n      return; \n    }\n    \n    // Check if there's already an active call\n    if(actRef.current && actRef.current.status() !== 'closed') {\n      setErr('Please hang up the current call first.');\n      return;\n    }\n    \n    // Clear any lingering call references\n    actRef.current = null;\n    \n    try {\n      setCallStat('dialing'); \n      const call = await deviceRef.current.connect({params:{To:n}}); \n      actRef.current=call; \n      \n      // Attach event listeners to the call object\n      call.on('ringing',()=>setCallStat('ringing')); \n      call.on('accept',()=>{\n        setCallStat('connected');\n        setIsRecording(true); // Start recording indicator\n      }); \n      call.on('disconnect',()=>{ \n        setHist(l=>[{id:generateId(),to:n,direction:'outgoing',status:'completed',at:new Date().toISOString()},...l].slice(0,100)); \n        actRef.current=null; \n        setCallStat('idle'); \n        setIsRecording(false); // Stop recording indicator\n        fetchRecordings(); // Refresh recordings list\n        fetchTranscriptions(); // Refresh transcriptions list\n        fetchContacts(); // Refresh contacts list\n      }); \n      call.on('cancel',()=>{ \n        setHist(l=>[{id:generateId(),to:n,direction:'outgoing',status:'canceled',at:new Date().toISOString()},...l].slice(0,100)); \n        actRef.current=null; \n        setCallStat('idle'); \n        setIsRecording(false); // Stop recording indicator\n      }); \n      call.on('error', e => {\n        console.error('Call error:', e);\n        \n        // Handle hangup errors as normal disconnections\n        if (e.code === 31005) {\n          console.log('Call ended with gateway hangup error (31005) - treating as normal hangup');\n          setHist(l => [{\n            id: generateId(),\n            to: n,\n            direction: 'outgoing',\n            status: 'completed',\n            at: new Date().toISOString()\n          }, ...l].slice(0, 100));\n          \n          actRef.current = null;\n          setCallStat('idle');\n          setIsRecording(false);\n          fetchRecordings();\n          fetchTranscriptions();\n          fetchContacts();\n          return; // Don't show error to user\n        }\n        \n        // Handle other errors normally\n        setErr(e?.message || 'Call error');\n        setCallStat('idle');\n        actRef.current = null;\n        setIsRecording(false);\n      });\n    } catch (error) {\n      console.error('Failed to start call:', error);\n      setErr(error?.message||'Failed to start call');\n      setCallStat('idle');\n    }\n  };\n  const hang = () => {\n    try {\n      const call = actRef.current;\n      if (call && call.status() !== 'closed') {\n        call.disconnect();\n      }\n    } catch (error) {\n      console.log('Error during hangup:', error);\n    }\n    \n    // Always clean up state regardless of disconnect success\n    actRef.current = null;\n    setCallStat('idle');\n    setIsRecording(false);\n  };\n  const dtmf=(d)=>{ try{actRef.current?.sendDigits(d)}catch{} };\n  const accept=async()=>{ \n    const c=incRef.current; \n    if(!c) return; \n    \n    try {\n      await c.accept(); \n      actRef.current=c; \n      setCallStat('connected'); \n      \n      c.on('disconnect',()=>{ \n        setHist(l=>[{id:generateId(),from:c.parameters?.From||'unknown',direction:'incoming',status:'completed',at:new Date().toISOString()},...l].slice(0,100)); \n        if(incRef.current===c) incRef.current=null; \n        actRef.current=null; \n        setCallStat('idle'); \n        setIsRecording(false); // Stop recording indicator\n        fetchRecordings(); // Refresh recordings list\n        fetchTranscriptions(); // Refresh transcriptions list\n        fetchContacts(); // Refresh contacts list\n      }); \n      \n      c.on('error', (e) => {\n        console.error('Incoming call error:', e);\n        \n        // Handle hangup errors as normal disconnections\n        if (e.code === 31005) {\n          console.log('Incoming call ended with gateway hangup error (31005) - treating as normal hangup');\n          setHist(l => [{\n            id: generateId(),\n            from: c.parameters?.From || 'unknown',\n            direction: 'incoming',\n            status: 'completed',\n            at: new Date().toISOString()\n          }, ...l].slice(0, 100));\n          \n          if (incRef.current === c) incRef.current = null;\n          actRef.current = null;\n          setCallStat('idle');\n          setIsRecording(false);\n          fetchRecordings();\n          fetchTranscriptions();\n          fetchContacts();\n          return; // Don't show error to user\n        }\n        \n        // Handle other errors normally\n        setErr(e?.message || 'Call error');\n        setCallStat('idle');\n        if (incRef.current === c) incRef.current = null;\n        actRef.current = null;\n        setIsRecording(false);\n      });\n    } catch (error) {\n      console.error('Failed to accept call:', error);\n      setErr(error?.message||'Failed to accept call');\n      setCallStat('idle');\n    }\n  };\n  const reject=()=>{ try{incRef.current?.reject()}catch{} incRef.current=null; setCallStat('idle'); };\n  const press=(k)=>{ if(callStat==='connected'&&actRef.current){ dtmf(k); } else { setNum(s=>norm(s+k)); } };\n  const back=()=>setNum(s=>s.slice(0,-1)); const clear=()=>setNum('');\n  const fetchRecordings=async()=>{ try{ const r=await fetch('http://localhost:5001/api/recordings'); const j=await r.json(); if(r.ok) setRecordings(j.recordings||[]); }catch(e){ console.error('Failed to fetch recordings:',e); } };\n  const fetchTranscriptions=async()=>{ try{ const r=await fetch('http://localhost:5001/api/transcriptions'); const j=await r.json(); if(r.ok) setTranscriptions(j.transcriptions||[]); }catch(e){ console.error('Failed to fetch transcriptions:',e); } };\n  const fetchContacts=async()=>{ try{ const r=await fetch('http://localhost:5001/api/contacts'); const j=await r.json(); if(r.ok) setConversationContacts(j.contacts||[]); }catch(e){ console.error('Failed to fetch contacts:',e); } };\n  const fetchContactContext=async(phoneNumber)=>{ try{ const r=await fetch(`http://localhost:5001/api/contacts/${phoneNumber}/context`); const j=await r.json(); if(r.ok) setContactContext(j); }catch(e){ console.error('Failed to fetch contact context:',e); } };\n  const generatePreCallBriefing=async(phoneNumber)=>{ try{ const r=await fetch(`http://localhost:5001/api/contacts/${phoneNumber}/prepare`,{method:'POST'}); const j=await r.json(); if(r.ok) return j; }catch(e){ console.error('Failed to generate briefing:',e); return null; } };\n  const addC=(name,phone)=>{ const n=norm(phone); if(!name||!n) return; setContacts(l=>[{id:generateId(),name,phone:n},...l].slice(0,200)); };\n  const devOK=devStat==='ready'; const conn=callStat==='connected';\n  return (\n    <ErrorBoundary>\n      <div className=\"min-h-screen p-4 md:p-8\">\n        <div className=\"max-w-6xl mx-auto grid md:grid-cols-3 gap-6\">\n          <div className=\"md:col-span-2 space-y-4\">\n            <header className=\"flex items-center justify-between bg-white border rounded px-4 py-3 shadow-sm\">\n              <div>\n                <h1 className=\"text-xl font-semibold\">Twilio Voice Dialer</h1>\n                <p className=\"text-xs text-slate-500\">Identity: {id||'(anonymous)'}</p>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Pill label={`Device: ${devStat}`} state={devStat} />\n                <Pill label={`Call: ${callStat}`} state={callStat} />\n                {isRecording && <Pill label=\"Recording\" state=\"recording\" />}\n              </div>\n            </header>\n            {err && <div className=\"bg-red-50 border border-red-200 text-red-700 text-sm px-3 py-2 rounded\">{err}</div>}\n            <div className=\"bg-white border rounded shadow-sm p-4\">\n              <div className=\"flex items-center gap-2\">\n                <input className=\"flex-1 px-3 py-2 border rounded focus:outline-none focus:ring w-full\" placeholder=\"Enter phone number\" value={fmt(num)} onChange={e=>setNum(norm(e.target.value))} disabled={!devOK||conn} />\n                {!conn ? <button className=\"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-50\" disabled={!devOK||!num} onClick={start}>Call</button> : <button className=\"px-4 py-2 bg-red-600 text-white rounded\" onClick={hang}>Hang up</button>}\n              </div>\n              <Pad onPress={press} onBack={back} onClear={clear} inCall={conn} />\n              {callStat==='incoming' && (\n                <div className=\"mt-3 flex items-center gap-2\">\n                  <button className=\"px-4 py-2 bg-green-600 text-white rounded\" onClick={accept}>Accept</button>\n                  <button className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded\" onClick={reject}>Reject</button>\n                </div>\n              )}\n            </div>\n          </div>\n          <aside className=\"space-y-4\">\n            <Contacts contacts={contacts} onAdd={addC} onDial={p=>setNum(p)} />\n            <History items={hist} />\n            <ConversationContacts contacts={conversationContacts} selectedContact={selectedContact} setSelectedContact={setSelectedContact} contactContext={contactContext} showContactDetails={showContactDetails} setShowContactDetails={setShowContactDetails} onFetchContext={fetchContactContext} onGenerateBriefing={generatePreCallBriefing} />\n            <Recordings recordings={recordings} showRecordings={showRecordings} setShowRecordings={setShowRecordings} />\n            <Transcriptions transcriptions={transcriptions} showTranscriptions={showTranscriptions} setShowTranscriptions={setShowTranscriptions} searchQuery={transcriptionSearch} setSearchQuery={setTranscriptionSearch} />\n            <div className=\"bg-white border rounded shadow-sm p-4 text-sm text-slate-600\"><p>Backend: http://localhost:5001  Token: /api/token</p></div>\n          </aside>\n        </div>\n      </div>\n    </ErrorBoundary>\n  );\n}\nfunction Pill({label,state}){ const color=(()=>{ switch(state){ case 'ready': return 'bg-green-100 text-green-700 border-green-200'; case 'connected': return 'bg-emerald-100 text-emerald-700 border-emerald-200'; case 'dialing': case 'ringing': return 'bg-amber-100 text-amber-700 border-amber-200'; case 'incoming': return 'bg-blue-100 text-blue-700 border-blue-200'; case 'recording': return 'bg-red-100 text-red-700 border-red-200'; case 'error': return 'bg-red-100 text-red-700 border-red-200'; default: return 'bg-slate-100 text-slate-700 border-slate-200'; } })(); return <span className={`inline-flex items-center px-2 py-1 rounded border text-xs ${color}`}>{label}</span>; }\nfunction Pad({onPress,onBack,onClear,inCall}){ const keys=[{k:'1',s:''},{k:'2',s:'ABC'},{k:'3',s:'DEF'},{k:'4',s:'GHI'},{k:'5',s:'JKL'},{k:'6',s:'MNO'},{k:'7',s:'PQRS'},{k:'8',s:'TUV'},{k:'9',s:'WXYZ'},{k:'*',s:''},{k:'0',s:'+'},{k:'#',s:''}]; return (\n  <div className=\"mt-4\"><div className=\"grid grid-cols-3 gap-3 w-64 max-w-full\">\n    {keys.map(({k,s})=> <button key={k} className=\"h-16 bg-slate-100 rounded border hover:bg-slate-200 active:bg-slate-300 flex flex-col items-center justify-center\" onClick={()=>onPress(k)}><span className=\"text-xl font-semibold\">{k}</span><span className=\"text-xs text-slate-500\">{s}</span></button>)}\n    <button className=\"h-16 bg-white rounded border hover:bg-slate-50 flex items-center justify-center\" onClick={onBack}></button>\n    <button className=\"h-16 bg-white rounded border hover:bg-slate-50 flex items-center justify-center\" onClick={()=>onPress('+')}>+</button>\n    <button className=\"h-16 bg-white rounded border hover:bg-slate-50 flex items-center justify-center\" onClick={onClear}>Clear</button>\n  </div>{inCall && <div className=\"text-xs text-slate-500 mt-2\">In call: keypad sends DTMF.</div>}</div> ); }\nfunction Contacts({contacts,onAdd,onDial}){ const [name,setName]=useState(''); const [phone,setPhone]=useState(''); return (\n  <div className=\"bg-white border rounded shadow-sm p-4\"><h3 className=\"font-semibold mb-2\">Contacts</h3>\n    <div className=\"flex gap-2 mb-3\"><input className=\"flex-1 px-2 py-1 border rounded\" placeholder=\"Name\" value={name} onChange={e=>setName(e.target.value)} /><input className=\"flex-1 px-2 py-1 border rounded\" placeholder=\"Phone\" value={phone} onChange={e=>setPhone(e.target.value)} /><button className=\"px-3 py-1 bg-slate-800 text-white rounded\" onClick={()=>{onAdd(name,phone); setName(''); setPhone('')}}>Add</button></div>\n    <ul className=\"space-y-1 max-h-48 overflow-auto\">{contacts.map(c=> <li key={c.id} className=\"flex items-center justify-between text-sm\"><div><div className=\"font-medium\">{c.name}</div><div className=\"text-slate-500\">{fmt(c.phone)}</div></div><button className=\"px-2 py-1 text-xs bg-blue-600 text-white rounded\" onClick={()=>onDial(c.phone)}>Dial</button></li>)}{contacts.length===0 && <li className=\"text-xs text-slate-500\">No contacts yet.</li>}</ul>\n  </div> ); }\nfunction History({items}){ return (\n  <div className=\"bg-white border rounded shadow-sm p-4\"><h3 className=\"font-semibold mb-2\">Call History</h3>\n    <ul className=\"space-y-1 max-h-64 overflow-auto text-sm\">{items.map(h=> <li key={h.id} className=\"flex items-center justify-between\"><div><div className=\"font-medium\">{h.direction==='outgoing'?`To ${fmt(h.to||'')}`:`From ${fmt(h.from||'')}`}</div><div className=\"text-xs text-slate-500\">{new Date(h.at).toLocaleString()}  {h.status}</div></div></li>)}{items.length===0 && <li className=\"text-xs text-slate-500\">No calls yet.</li>}</ul>\n  </div> ); }\n\nfunction Recordings({recordings,showRecordings,setShowRecordings}){ \n  const formatDuration=(seconds)=>{ const mins=Math.floor(seconds/60); const secs=seconds%60; return `${mins}:${secs.toString().padStart(2,'0')}`; };\n  const formatDate=(dateStr)=>{ return new Date(dateStr).toLocaleString(); };\n  \n  return (\n    <div className=\"bg-white border rounded shadow-sm p-4\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"font-semibold\">Recordings</h3>\n        <button \n          className=\"text-xs px-2 py-1 bg-slate-800 text-white rounded\"\n          onClick={()=>setShowRecordings(!showRecordings)}\n        >\n          {showRecordings ? 'Hide' : 'Show'}\n        </button>\n      </div>\n      \n      {showRecordings && (\n        <ul className=\"space-y-2 max-h-64 overflow-auto text-sm\">\n          {recordings.map(r=> (\n            <li key={r.sid} className=\"border rounded p-2\">\n              <div className=\"flex items-center justify-between mb-1\">\n                <div className=\"font-medium text-xs\">Call {r.callSid?.slice(-8)}</div>\n                <div className=\"text-xs text-slate-500\">{formatDuration(r.duration)}</div>\n              </div>\n              <div className=\"text-xs text-slate-500 mb-2\">{formatDate(r.createdAt)}</div>\n              <div className=\"flex gap-1\">\n                <button \n                  className=\"text-xs px-2 py-1 bg-blue-600 text-white rounded\"\n                  onClick={()=>window.open(`http://localhost:5001/api/recordings/${r.sid}/download`)}\n                >\n                  Download\n                </button>\n                <span className=\"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded\">\n                  {r.channels} channels\n                </span>\n              </div>\n            </li>\n          ))}\n          {recordings.length===0 && <li className=\"text-xs text-slate-500\">No recordings yet.</li>}\n        </ul>\n      )}\n    </div>\n  ); }\n\nfunction Transcriptions({transcriptions,showTranscriptions,setShowTranscriptions,searchQuery,setSearchQuery}){ \n  const formatDate=(dateStr)=>{ return new Date(dateStr).toLocaleString(); };\n  const formatConfidence=(conf)=>{ return `${Math.round(conf * 100)}%`; };\n  \n  // Filter transcriptions based on search query\n  const filteredTranscriptions = transcriptions.filter(t => \n    !searchQuery || \n    t.text?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    t.metadata?.topics?.some(topic => topic.toLowerCase().includes(searchQuery.toLowerCase()))\n  );\n  \n  return (\n    <div className=\"bg-white border rounded shadow-sm p-4\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"font-semibold\">Transcriptions</h3>\n        <button \n          className=\"text-xs px-2 py-1 bg-slate-800 text-white rounded\"\n          onClick={()=>setShowTranscriptions(!showTranscriptions)}\n        >\n          {showTranscriptions ? 'Hide' : 'Show'}\n        </button>\n      </div>\n      \n      {showTranscriptions && (\n        <>\n          <div className=\"mb-3\">\n            <input \n              className=\"w-full px-2 py-1 border rounded text-xs\"\n              placeholder=\"Search transcriptions...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n            />\n          </div>\n          \n          <ul className=\"space-y-3 max-h-64 overflow-auto text-sm\">\n            {filteredTranscriptions.map(t=> (\n              <li key={t.sid} className=\"border rounded p-2\">\n                <div className=\"flex items-center justify-between mb-1\">\n                  <div className=\"font-medium text-xs\">Call {t.callSid?.slice(-8)}</div>\n                  <div className=\"text-xs text-slate-500\">{formatConfidence(t.confidence)}</div>\n                </div>\n                <div className=\"text-xs text-slate-500 mb-2\">{formatDate(t.createdAt)}</div>\n                \n                {/* Transcription preview */}\n                <div className=\"text-xs text-slate-700 mb-2 max-h-16 overflow-hidden\">\n                  {t.text?.substring(0, 100)}...\n                </div>\n                \n                {/* Metadata */}\n                {t.metadata && (\n                  <div className=\"mb-2\">\n                    {t.metadata.topics?.length > 0 && (\n                      <div className=\"flex flex-wrap gap-1 mb-1\">\n                        {t.metadata.topics.map((topic, i) => (\n                          <span key={`transcription-topic-${t.sid}-${i}-${topic}`} className=\"text-xs px-1 py-0.5 bg-blue-100 text-blue-700 rounded\">\n                            {topic}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n                    {t.metadata.actionItems?.length > 0 && (\n                      <div className=\"text-xs text-amber-600\">\n                        {t.metadata.actionItems.length} action item(s)\n                      </div>\n                    )}\n                  </div>\n                )}\n                \n                {/* Export buttons */}\n                <div className=\"flex gap-1\">\n                  <button \n                    className=\"text-xs px-2 py-1 bg-green-600 text-white rounded\"\n                    onClick={()=>window.open(`http://localhost:5001/api/transcriptions/${t.sid}/export?format=json`)}\n                  >\n                    JSON\n                  </button>\n                  <button \n                    className=\"text-xs px-2 py-1 bg-purple-600 text-white rounded\"\n                    onClick={()=>window.open(`http://localhost:5001/api/transcriptions/${t.sid}/export?format=markdown`)}\n                  >\n                    MD\n                  </button>\n                  <button \n                    className=\"text-xs px-2 py-1 bg-orange-600 text-white rounded\"\n                    onClick={()=>window.open(`http://localhost:5001/api/transcriptions/${t.sid}/export?format=vector`)}\n                  >\n                    Vector\n                  </button>\n                </div>\n              </li>\n            ))}\n            {filteredTranscriptions.length===0 && (\n              <li className=\"text-xs text-slate-500\">\n                {searchQuery ? 'No transcriptions match your search.' : 'No transcriptions yet.'}\n              </li>\n            )}\n          </ul>\n        </>\n      )}\n    </div>\n  ); }\n\nfunction ConversationContacts({contacts, selectedContact, setSelectedContact, contactContext, showContactDetails, setShowContactDetails, onFetchContext, onGenerateBriefing}){ \n  const formatDate=(dateStr)=>{ return new Date(dateStr).toLocaleString(); };\n  const formatPhone=(phone)=>{ return phone.replace(/^\\+1/, '').replace(/(\\d{3})(\\d{3})(\\d{4})/, '($1) $2-$3'); };\n  \n  const handleContactSelect = async (contact) => {\n    setSelectedContact(contact);\n    await onFetchContext(contact.phoneNumber);\n    setShowContactDetails(true);\n  };\n  \n  const handleGenerateBriefing = async (phoneNumber) => {\n    const briefing = await onGenerateBriefing(phoneNumber);\n    if (briefing) {\n      console.log('Pre-call briefing:', briefing);\n      // You could display this in a modal or notification\n      alert(`Pre-call briefing generated for ${formatPhone(phoneNumber)}`);\n    }\n  };\n  \n  return (\n    <div className=\"bg-white border rounded shadow-sm p-4\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <h3 className=\"font-semibold\">Conversation Contacts</h3>\n        <button \n          className=\"text-xs px-2 py-1 bg-slate-800 text-white rounded\"\n          onClick={()=>setShowContactDetails(!showContactDetails)}\n        >\n          {showContactDetails ? 'Hide' : 'Show'}\n        </button>\n      </div>\n      \n      {showContactDetails && (\n        <>\n          {selectedContact && contactContext && (\n            <div className=\"mb-4 p-3 bg-blue-50 border rounded\">\n              <h4 className=\"font-medium text-sm mb-2\">Contact Context: {formatPhone(selectedContact.phoneNumber)}</h4>\n              \n              {/* Relationship Summary */}\n              <div className=\"mb-2\">\n                <div className=\"text-xs text-slate-600\">\n                  <strong>Relationship:</strong> {contactContext.summary?.relationship || 'Unknown'} • \n                  <strong>Total Calls:</strong> {contactContext.summary?.totalCalls || 0} • \n                  <strong>Frequency:</strong> {contactContext.summary?.communicationFrequency || 'Unknown'}\n                </div>\n              </div>\n              \n              {/* Recent Topics */}\n              {contactContext.recentTopics?.length > 0 && (\n                <div className=\"mb-2\">\n                  <div className=\"text-xs text-slate-600\">\n                    <strong>Recent Topics:</strong> {contactContext.recentTopics.slice(0, 3).join(', ')}\n                  </div>\n                </div>\n              )}\n              \n              {/* Pending Action Items */}\n              {contactContext.pendingActionItems?.length > 0 && (\n                <div className=\"mb-2\">\n                  <div className=\"text-xs text-amber-600\">\n                    <strong>Pending Actions:</strong> {contactContext.pendingActionItems.length} item(s)\n                  </div>\n                </div>\n              )}\n              \n              {/* AI Suggestions */}\n              {contactContext.aiSuggestions?.length > 0 && (\n                <div className=\"mb-2\">\n                  <div className=\"text-xs text-purple-600\">\n                    <strong>AI Suggestions:</strong> {contactContext.aiSuggestions[0]?.message}\n                  </div>\n                </div>\n              )}\n              \n              <button \n                className=\"text-xs px-2 py-1 bg-green-600 text-white rounded\"\n                onClick={() => handleGenerateBriefing(selectedContact.phoneNumber)}\n              >\n                Generate Briefing\n              </button>\n            </div>\n          )}\n          \n          <ul className=\"space-y-2 max-h-64 overflow-auto text-sm\">\n            {contacts.map((contact, index) => (\n              <li key={`contact-${contact.phoneNumber}-${index}`} className=\"border rounded p-2\">\n                <div className=\"flex items-center justify-between mb-1\">\n                  <div className=\"font-medium text-xs\">{formatPhone(contact.phoneNumber)}</div>\n                  <div className=\"text-xs text-slate-500\">{contact.totalCalls} calls</div>\n                </div>\n                <div className=\"text-xs text-slate-500 mb-2\">\n                  Last: {formatDate(contact.lastContact)} • {contact.relationship}\n                </div>\n                \n                {/* Recent Topics */}\n                {contact.recentTopics?.length > 0 && (\n                  <div className=\"mb-2\">\n                    <div className=\"flex flex-wrap gap-1\">\n                      {contact.recentTopics.map((topic, i) => (\n                        <span key={`topic-${contact.phoneNumber}-${i}-${topic}`} className=\"text-xs px-1 py-0.5 bg-blue-100 text-blue-700 rounded\">\n                          {topic}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                \n                {/* Action Items */}\n                {contact.pendingActionItems > 0 && (\n                  <div className=\"text-xs text-amber-600 mb-2\">\n                    {contact.pendingActionItems} pending action item(s)\n                  </div>\n                )}\n                \n                <div className=\"flex gap-1\">\n                  <button \n                    className=\"text-xs px-2 py-1 bg-blue-600 text-white rounded\"\n                    onClick={() => handleContactSelect(contact)}\n                  >\n                    View Context\n                  </button>\n                  <button \n                    className=\"text-xs px-2 py-1 bg-green-600 text-white rounded\"\n                    onClick={() => handleGenerateBriefing(contact.phoneNumber)}\n                  >\n                    Briefing\n                  </button>\n                </div>\n              </li>\n            ))}\n            {contacts.length===0 && (\n              <li className=\"text-xs text-slate-500\">No conversation contacts yet.</li>\n            )}\n          </ul>\n        </>\n      )}\n    </div>\n  ); }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}